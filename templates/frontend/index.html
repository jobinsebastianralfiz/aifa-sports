{% extends 'frontend/base.html' %}
{% load static %}

{% block title %}{{ site_settings.site_name|default:"AIFA Sports Academy" }} - {{ site_settings.tagline|default:"Where Champions Are Made" }}{% endblock %}

{% block meta_description %}{{ site_settings.meta_description|default:"Altius International Football Academy (AIFA) - Elite football training for all age groups. Professional coaching, world-class facilities, and a pathway to excellence." }}{% endblock %}

{% block og_title %}{{ site_settings.site_name|default:"AIFA Sports Academy" }} - {{ site_settings.tagline|default:"Where Champions Are Made" }}{% endblock %}
{% block og_description %}{{ site_settings.meta_description|default:"Altius International Football Academy (AIFA) - Elite football training for all age groups with professional coaches." }}{% endblock %}

{% block navbar %}
{% include 'frontend/components/navbar.html' with navbar_class='' %}
{% endblock %}

{% block content %}
<!-- Floating Accreditation Banner -->
{% if site_settings.kfa_logo %}
<div class="floating-accreditation" id="accreditationBanner">
    <div class="accreditation-inner">
        <span class="accreditation-label">Accredited</span>
        <img src="{{ site_settings.kfa_logo.url }}" alt="{{ site_settings.kfa_logo_alt|default:'Accreditation' }}">
    </div>
    <button class="accreditation-close" id="closeAccreditation" aria-label="Close">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
    </button>
</div>
{% endif %}

<!-- Hero Section with Slider -->
<section class="hero" id="home">
    {% if hero_slides %}
    <!-- Hero Slides -->
    <div class="hero-slider-wrapper">
        {% for slide in hero_slides %}
        <div class="hero-slide {% if forloop.first %}active{% endif %}" data-slide="{{ forloop.counter0 }}">
            <!-- Video/Image Background -->
            {% if slide.media_type == 'video' and slide.video %}
            <video class="hero-video" autoplay muted loop playsinline>
                <source src="{{ slide.video.url }}" type="video/mp4">
            </video>
            {% elif slide.image %}
            <div class="hero-video" style="background-image: url('{{ slide.image.url }}'); background-size: cover; background-position: center;"></div>
            {% else %}
            <div class="hero-video" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);"></div>
            {% endif %}

            <!-- Overlay -->
            <div class="hero-overlay"></div>

            <!-- Content -->
            <div class="hero-content">
                <div class="hero-badge animate-on-scroll">
                    <span class="pulse-dot"></span>
                    {{ homepage_content.hero_badge_text|default:"#1 Rated Football Academy" }}
                </div>

                <h1 class="hero-title hero-reveal">
                    <span class="line"><span class="line-inner">{{ slide.title }}</span></span>
                    {% if slide.subtitle %}
                    <span class="line"><span class="line-inner gradient-text-animated">{{ slide.subtitle }}</span></span>
                    {% endif %}
                </h1>

                {% if slide.description %}
                <p class="hero-description animate-on-scroll delay-300">
                    {{ slide.description }}
                </p>
                {% endif %}

                <div class="hero-buttons animate-on-scroll delay-500">
                    {% if slide.cta_text and slide.cta_link %}
                    <a href="{{ slide.cta_link }}" class="btn btn-primary">
                        {{ slide.cta_text }}
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </a>
                    {% endif %}
                    <a href="{% url 'frontend:contact' %}" class="btn btn-outline">
                        Contact Us
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Slider Navigation Dots - Scoreboard Style -->
    {% if hero_slides.count > 1 %}
    <div class="hero-slider-dots">
        {% for slide in hero_slides %}
        <button class="hero-dot {% if forloop.first %}active{% endif %}" data-slide="{{ forloop.counter0 }}" aria-label="Slide {{ forloop.counter }}">{{ forloop.counter }}</button>
        {% endfor %}
    </div>

    <!-- Slider Arrows -->
    <button class="hero-slider-arrow hero-slider-prev" aria-label="Previous slide">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <button class="hero-slider-arrow hero-slider-next" aria-label="Next slide">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
    </button>
    {% endif %}

    {% else %}
    <!-- Default Hero (no slides) -->
    <div class="hero-video" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);"></div>
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <div class="hero-badge animate-on-scroll">
            <span class="pulse-dot"></span>
            {{ homepage_content.hero_badge_text|default:"#1 Rated Football Academy" }}
        </div>

        <h1 class="hero-title hero-reveal">
            <span class="line"><span class="line-inner">TRAIN LIKE A</span></span>
            <span class="line"><span class="line-inner gradient-text-animated">CHAMPION</span></span>
        </h1>

        <p class="hero-description animate-on-scroll delay-300">
            Transform your passion into excellence. Join the elite academy where future football legends are crafted.
        </p>

        <div class="hero-buttons animate-on-scroll delay-500">
            <a href="{% url 'programs:list' %}" class="btn btn-primary">
                Explore Programs
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </a>
            <a href="{% url 'frontend:contact' %}" class="btn btn-outline">
                Contact Us
            </a>
        </div>
    </div>
    {% endif %}

    <!-- Glowing Orbs -->
    <div class="orb orb-primary orb-1"></div>
    <div class="orb orb-secondary orb-2"></div>
    <div class="orb orb-primary orb-3"></div>

    <!-- Match Result Card -->
    {% if featured_match %}
    <div class="hero-match-card animate-right delay-600">
        <div class="match-card-header">
            <span class="match-tournament">{{ featured_match.tournament_name|default:"FRIENDLY MATCH" }}</span>
            <span class="match-status-badge">FT</span>
        </div>
        <div class="match-card-body">
            <!-- AIFA (Home Team) -->
            <div class="match-team match-team-home">
                <div class="match-team-logo">
                    <img src="{% if site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'assets/images/logo.png' %}{% endif %}" alt="AIFA">
                </div>
                <span class="match-team-name">AIFA</span>
            </div>
            <!-- Score -->
            <div class="match-score-center">
                <div class="match-score">
                    <span class="score-num">{{ featured_match.aifa_score|default:0 }}</span>
                    <span class="score-divider">-</span>
                    <span class="score-num">{{ featured_match.opponent_score|default:0 }}</span>
                </div>
                {% if featured_match.aifa_score > featured_match.opponent_score %}
                <span class="match-result-badge win">WIN</span>
                {% elif featured_match.aifa_score < featured_match.opponent_score %}
                <span class="match-result-badge defeat">DEFEAT</span>
                {% else %}
                <span class="match-result-badge draw">DRAW</span>
                {% endif %}
            </div>
            <!-- Opponent (Away Team) -->
            <div class="match-team match-team-away">
                <div class="match-team-logo">
                    {% if featured_match.opponent_logo %}
                    <img src="{{ featured_match.opponent_logo.url }}" alt="{{ featured_match.opponent_name }}">
                    {% else %}
                    <div class="match-team-placeholder">{{ featured_match.opponent_name|slice:":2"|upper }}</div>
                    {% endif %}
                </div>
                <span class="match-team-name">{{ featured_match.opponent_name|default:"Opponent" }}</span>
            </div>
        </div>
        <a href="{% url 'tournaments:list' %}" class="match-card-footer">
            View All Results
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </a>
    </div>
    {% endif %}

    <!-- Scroll Indicator -->
    <div class="scroll-indicator animate-on-scroll delay-1000">
        <span>Scroll Down</span>
        <div class="scroll-mouse"></div>
    </div>
</section>

<!-- News & Events Marquee -->
{% if news or upcoming_events %}
<div class="news-marquee-wrapper">
    <div class="news-marquee-label">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/><path d="M16 13H8M16 17H8M10 9H8"/></svg>
        News & Events
    </div>
    <div class="news-marquee-track">
        <div class="news-marquee-content">
            {% for item in news %}
            <a href="{% url 'news:detail' item.slug %}" class="news-marquee-item news">
                <span class="news-tag">{{ item.get_category_display }}</span>
                <span class="news-title">{{ item.title }}</span>
                <span class="news-date">{{ item.published_at|date:"d M" }}</span>
            </a>
            {% endfor %}
            {% for event in upcoming_events %}
            <a href="{% url 'events:detail' event.slug %}" class="news-marquee-item event">
                <span class="news-tag event">{{ event.get_event_type_display }}</span>
                <span class="news-title">{{ event.title }}</span>
                <span class="news-date">{{ event.start_date|date:"d M" }}</span>
            </a>
            {% endfor %}
        </div>
        <div class="news-marquee-content">
            {% for item in news %}
            <a href="{% url 'news:detail' item.slug %}" class="news-marquee-item news">
                <span class="news-tag">{{ item.get_category_display }}</span>
                <span class="news-title">{{ item.title }}</span>
                <span class="news-date">{{ item.published_at|date:"d M" }}</span>
            </a>
            {% endfor %}
            {% for event in upcoming_events %}
            <a href="{% url 'events:detail' event.slug %}" class="news-marquee-item event">
                <span class="news-tag event">{{ event.get_event_type_display }}</span>
                <span class="news-title">{{ event.title }}</span>
                <span class="news-date">{{ event.start_date|date:"d M" }}</span>
            </a>
            {% endfor %}
        </div>
    </div>
</div>
{% endif %}

<!-- Mobile Match Result Card -->
{% if featured_match %}
<section class="mobile-match-section">
    <div class="container">
        <div class="mobile-match-card">
            <div class="mobile-match-header">
                <span class="mobile-match-tournament">{{ featured_match.tournament_name|default:"FRIENDLY MATCH" }}</span>
                <span class="mobile-match-status">FT</span>
            </div>
            <div class="mobile-match-body">
                <div class="mobile-match-team">
                    <div class="mobile-team-logo">
                        <img src="{% if site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'assets/images/logo.png' %}{% endif %}" alt="AIFA">
                    </div>
                    <span class="mobile-team-name">AIFA</span>
                </div>
                <div class="mobile-match-score">
                    <div class="mobile-score-display">
                        <span class="mobile-score-num">{{ featured_match.aifa_score|default:0 }}</span>
                        <span class="mobile-score-divider">-</span>
                        <span class="mobile-score-num">{{ featured_match.opponent_score|default:0 }}</span>
                    </div>
                    {% if featured_match.aifa_score > featured_match.opponent_score %}
                    <span class="mobile-result-badge win">WIN</span>
                    {% elif featured_match.aifa_score < featured_match.opponent_score %}
                    <span class="mobile-result-badge defeat">DEFEAT</span>
                    {% else %}
                    <span class="mobile-result-badge draw">DRAW</span>
                    {% endif %}
                </div>
                <div class="mobile-match-team">
                    <div class="mobile-team-logo">
                        {% if featured_match.opponent_logo %}
                        <img src="{{ featured_match.opponent_logo.url }}" alt="{{ featured_match.opponent_name }}">
                        {% else %}
                        <span class="mobile-team-initial">{{ featured_match.opponent_name|slice:":2"|upper }}</span>
                        {% endif %}
                    </div>
                    <span class="mobile-team-name">{{ featured_match.opponent_name|default:"Opponent" }}</span>
                </div>
            </div>
            <a href="{% url 'tournaments:list' %}" class="mobile-match-footer">
                View All Results
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- About Section -->
<section class="section about-section" id="about">
    <div class="about-grid container">
        <div class="about-content animate-left">
            <div class="section-tag">
                <span class="tag-line"></span>
                {{ homepage_content.about_section_tag|default:"About Our Academy" }}
            </div>
            <h2 class="about-title">
                {{ homepage_content.about_section_title|default:'WHERE <span class="text-accent">Passion</span><br>MEETS EXCELLENCE'|safe }}
            </h2>
            <p class="about-text">
                {% if homepage_content.about_section_text %}
                {{ homepage_content.about_section_text }}
                {% else %}
                Founded in {{ about_content.founding_year|default:"2014" }}, AIFA Football Academy has been the cornerstone of football excellence in the region. We don't just train players - we develop complete athletes with character, discipline, and an unwavering winning mentality that transcends the field.
                {% endif %}
            </p>
            <div class="about-features stagger-children">
                {% for feature in homepage_content.get_about_features %}
                <div class="about-feature">
                    <div class="about-feature-icon">
                        {% include 'includes/icon.html' with icon=feature.icon %}
                    </div>
                    <span>{{ feature.text }}</span>
                </div>
                {% endfor %}
            </div>
            <a href="{% url 'frontend:about' %}" class="btn btn-outline-primary mt-8">
                Learn More About Us
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </a>
        </div>

        <div class="about-images animate-right">
            <div class="about-image about-img-1">
                {% if homepage_content.about_section_image_1 %}
                <img src="{{ homepage_content.about_section_image_1.url }}" alt="Football Training">
                {% else %}
                <img src="https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=600&q=80" alt="Football Training">
                {% endif %}
            </div>
            <div class="about-image about-img-2">
                {% if homepage_content.about_section_image_2 %}
                <img src="{{ homepage_content.about_section_image_2.url }}" alt="Football Match">
                {% else %}
                <img src="https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?w=600&q=80" alt="Football Match">
                {% endif %}
            </div>
            <div class="about-experience">
                <div class="about-experience-number" data-count="{{ about_content.years_experience|default:8 }}">0</div>
                <div class="about-experience-text">Years Excellence</div>
            </div>
        </div>
    </div>
</section>

<!-- Programs Section -->
<section class="section programs-section" id="programs">
    <div class="section-header">
        <div class="section-tag animate-on-scroll">Our Programs</div>
        <h2 class="section-title animate-on-scroll">FIND YOUR <span class="text-gradient">PERFECT FIT</span></h2>
    </div>

    <div class="programs-grid">
        {% for program in programs %}
        <div class="program-card animate-scale {% if forloop.counter == 2 %}delay-100{% elif forloop.counter == 3 %}delay-200{% elif forloop.counter == 4 %}delay-300{% endif %}">
            <div class="program-bg" style="background-image: url('{% if program.image %}{{ program.image.url }}{% else %}https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=600&q=80{% endif %}')"></div>
            <div class="program-overlay"></div>
            <div class="program-number">{{ forloop.counter|stringformat:"02d" }}</div>
            <div class="program-content">
                {% if program.age_group %}
                <div class="badge badge-primary">{{ program.age_group }}</div>
                {% endif %}
                <h3 class="program-title">{{ program.name|upper }}</h3>
                <p class="program-desc">{{ program.short_description|default:program.description|truncatewords:15 }}</p>
                <a href="{% url 'programs:detail' program.slug %}" class="program-link">
                    Learn More
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7V17"/></svg>
                </a>
            </div>
        </div>
        {% empty %}
        <!-- Default programs if none exist -->
        <div class="program-card animate-scale">
            <div class="program-bg" style="background-image: url('https://images.unsplash.com/photo-1596464716127-f2a82984de30?w=600&q=80')"></div>
            <div class="program-overlay"></div>
            <div class="program-number">01</div>
            <div class="program-content">
                <div class="badge badge-primary">Age 5-8</div>
                <h3 class="program-title">LITTLE CHAMPIONS</h3>
                <p class="program-desc">Fun-focused introduction to football fundamentals. Building coordination, confidence, and love for the game.</p>
                <a href="{% url 'programs:list' %}" class="program-link">
                    Learn More
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7V17"/></svg>
                </a>
            </div>
        </div>
        <div class="program-card animate-scale delay-100">
            <div class="program-bg" style="background-image: url('https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=600&q=80')"></div>
            <div class="program-overlay"></div>
            <div class="program-number">02</div>
            <div class="program-content">
                <div class="badge badge-primary">Age 9-12</div>
                <h3 class="program-title">JUNIOR STARS</h3>
                <p class="program-desc">Technical skill development, tactical understanding, and competitive match experience.</p>
                <a href="{% url 'programs:list' %}" class="program-link">
                    Learn More
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7V17"/></svg>
                </a>
            </div>
        </div>
        <div class="program-card animate-scale delay-200">
            <div class="program-bg" style="background-image: url('https://images.unsplash.com/photo-1517466787929-bc90951d0974?w=600&q=80')"></div>
            <div class="program-overlay"></div>
            <div class="program-number">03</div>
            <div class="program-content">
                <div class="badge badge-primary">Age 13-17</div>
                <h3 class="program-title">ELITE YOUTH</h3>
                <p class="program-desc">Intensive professional training for aspiring athletes. Advanced tactics, fitness, and mental conditioning.</p>
                <a href="{% url 'programs:list' %}" class="program-link">
                    Learn More
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7V17"/></svg>
                </a>
            </div>
        </div>
        <div class="program-card animate-scale delay-300">
            <div class="program-bg" style="background-image: url('https://images.unsplash.com/photo-1560272564-c83b66b1ad12?w=600&q=80')"></div>
            <div class="program-overlay"></div>
            <div class="program-number">04</div>
            <div class="program-content">
                <div class="badge badge-primary">Age 18+</div>
                <h3 class="program-title">ADULT LEAGUE</h3>
                <p class="program-desc">Recreational and competitive football for adults. Stay fit, compete, and enjoy the beautiful game.</p>
                <a href="{% url 'programs:list' %}" class="program-link">
                    Learn More
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7V17"/></svg>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Stats Section -->
{% if homepage_content.show_statistics %}
{% with stats=about_content.get_statistics %}
<section class="stats-section">
    <div class="stats-bg-text">{{ homepage_content.statistics_background_text|default:"CHAMPIONS" }}</div>
    <div class="stats-grid container">
        <div class="stat-item animate-on-scroll">
            <div class="stat-number" data-count="{{ stats.students_trained|default:5000 }}">0</div>
            <div class="stat-label">Students Trained</div>
        </div>
        <div class="stat-item animate-on-scroll delay-100">
            <div class="stat-number" data-count="{{ stats.trophies_won|default:50 }}">0</div>
            <div class="stat-label">Trophies Won</div>
        </div>
        <div class="stat-item animate-on-scroll delay-200">
            <div class="stat-number" data-count="{{ stats.district_players|default:100 }}">0</div>
            <div class="stat-label">District Players</div>
        </div>
        <div class="stat-item animate-on-scroll delay-300">
            <div class="stat-number" data-count="{{ stats.years_excellence|default:10 }}">0</div>
            <div class="stat-label">Years Excellence</div>
        </div>
    </div>
</section>
{% endwith %}
{% endif %}

<!-- Gallery Section -->
<section class="gallery-section">
    <div class="gallery-marquee-track">
        <div class="gallery-marquee-content">
            {% for image in gallery_images %}
            <div class="gallery-marquee-item"><img src="{{ image.image.url }}" alt="{{ image.title|default:'Gallery' }}"></div>
            {% empty %}
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1553778263-73a83bab9b0c?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1517466787929-bc90951d0974?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=600&q=80" alt="Gallery"></div>
            {% endfor %}
            <!-- Duplicate for seamless loop -->
            {% for image in gallery_images %}
            <div class="gallery-marquee-item"><img src="{{ image.image.url }}" alt="{{ image.title|default:'Gallery' }}"></div>
            {% empty %}
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1553778263-73a83bab9b0c?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1517466787929-bc90951d0974?w=600&q=80" alt="Gallery"></div>
            <div class="gallery-marquee-item"><img src="https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=600&q=80" alt="Gallery"></div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Facilities Section -->
{% if facilities %}
<section class="section facilities-section" id="facilities">
    <div class="section-header">
        <div class="section-tag animate-on-scroll">World-Class Infrastructure</div>
        <h2 class="section-title animate-on-scroll">OUR <span class="text-gradient">FACILITIES</span></h2>
    </div>

    <div class="facilities-home-grid container">
        {% for facility in facilities %}
        <div class="facility-home-card animate-scale {% if forloop.counter == 2 %}delay-100{% elif forloop.counter == 3 %}delay-200{% endif %}">
            <div class="facility-home-image">
                {% if facility.image %}
                <img src="{{ facility.image.url }}" alt="{{ facility.name }}">
                {% else %}
                <div class="facility-placeholder"></div>
                {% endif %}
                {% if facility.area_size %}
                <span class="facility-home-size">{{ facility.area_size }}</span>
                {% endif %}
            </div>
            <div class="facility-home-content">
                {% if facility.category %}
                <span class="facility-home-category">{{ facility.category.name }}</span>
                {% endif %}
                <h3 class="facility-home-name">{{ facility.name }}</h3>
                <p class="facility-home-desc">{{ facility.short_description|default:facility.description|truncatewords:15 }}</p>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="text-center mt-12 animate-on-scroll">
        <a href="{% url 'facilities:list' %}" class="btn btn-outline">
            Explore All Facilities
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
        </a>
    </div>
</section>
{% endif %}

<!-- Our Team Section -->
<section class="section coaches-section" id="team">
    <div class="section-header">
        <div class="section-tag animate-on-scroll">Expert Team</div>
        <h2 class="section-title animate-on-scroll">MEET <span class="text-gradient">OUR TEAM</span></h2>
    </div>

    <div class="coaches-grid container">
        {% for coach in coaches %}
        <div class="coach-card animate-scale {% if forloop.counter == 2 %}delay-100{% elif forloop.counter == 3 %}delay-200{% endif %}">
            <div class="coach-bg" style="background-image: url('{% if coach.photo %}{{ coach.photo.url }}{% else %}https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&q=80{% endif %}')"></div>
            <div class="coach-overlay"></div>
            <a href="{% url 'coaches:detail' coach.slug %}" class="coach-view-profile" aria-label="View Profile">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
            </a>
            <div class="coach-content">
                {% if coach.qualifications %}
                <div class="badge badge-outline-primary">{{ coach.qualifications|truncatewords:3 }}</div>
                {% endif %}
                <h3 class="coach-name">{{ coach.first_name|upper }} {{ coach.last_name|upper }}</h3>
                <p class="coach-role">{{ coach.designation|default:"Coach" }}</p>
                <div class="coach-socials">
                    {% if coach.twitter_url %}
                    <a href="{{ coach.twitter_url }}" class="coach-social" aria-label="Twitter" target="_blank">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>
                    </a>
                    {% endif %}
                    {% if coach.instagram_url %}
                    <a href="{{ coach.instagram_url }}" class="coach-social" aria-label="Instagram" target="_blank">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% empty %}
        <!-- Default coaches if none exist -->
        <div class="coach-card animate-scale">
            <div class="coach-bg" style="background-image: url('https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&q=80')"></div>
            <div class="coach-overlay"></div>
            <div class="coach-content">
                <div class="badge badge-outline-primary">UEFA PRO LICENSE</div>
                <h3 class="coach-name">JAMES ANDERSON</h3>
                <p class="coach-role">Head Coach & Director</p>
            </div>
        </div>
        <div class="coach-card animate-scale delay-100">
            <div class="coach-bg" style="background-image: url('https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=600&q=80')"></div>
            <div class="coach-overlay"></div>
            <div class="coach-content">
                <div class="badge badge-outline-primary">AFC A LICENSE</div>
                <h3 class="coach-name">MICHAEL KUMAR</h3>
                <p class="coach-role">Technical Director</p>
            </div>
        </div>
        <div class="coach-card animate-scale delay-200">
            <div class="coach-bg" style="background-image: url('https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&q=80')"></div>
            <div class="coach-overlay"></div>
            <div class="coach-content">
                <div class="badge badge-outline-primary">AIFF D LICENSE</div>
                <h3 class="coach-name">DAVID SINGH</h3>
                <p class="coach-role">Youth Development Coach</p>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="text-center mt-12 animate-on-scroll">
        <a href="{% url 'coaches:list' %}" class="btn btn-outline">
            View Our Team
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
        </a>
    </div>
</section>

<!-- Achievements Section -->
{% if achievements %}
<section class="section achievements-section" id="achievements">
    <div class="section-header">
        <div class="section-tag animate-on-scroll">Our Pride</div>
        <h2 class="section-title animate-on-scroll">ACHIEVEMENTS & <span class="text-gradient">AWARDS</span></h2>
    </div>

    <div class="achievements-grid container">
        {% for achievement in achievements %}
        <a href="{% url 'achievements:detail' achievement.slug %}" class="achievement-card-new animate-scale {% if forloop.counter == 2 %}delay-100{% elif forloop.counter == 3 %}delay-200{% elif forloop.counter == 4 %}delay-300{% endif %}">
            <div class="achievement-card-image">
                {% if achievement.image %}
                <img src="{{ achievement.image.url }}" alt="{{ achievement.title }}">
                {% else %}
                <div class="achievement-card-placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
                        <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
                        <path d="M4 22h16"/>
                        <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/>
                        <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/>
                        <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/>
                    </svg>
                </div>
                {% endif %}
                <span class="achievement-year-badge">{{ achievement.year }}</span>
            </div>
            <div class="achievement-card-content">
                <h3 class="achievement-card-title">{{ achievement.title }}</h3>
                <span class="achievement-category-badge">{{ achievement.get_category_display|upper }}</span>
                {% if achievement.description %}
                <p class="achievement-card-desc">{{ achievement.description|truncatewords:20 }}</p>
                {% endif %}
            </div>
        </a>
        {% endfor %}
    </div>

    <div class="text-center mt-12 animate-on-scroll">
        <a href="{% url 'achievements:list' %}" class="btn btn-outline">
            View All Achievements
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
        </a>
    </div>
</section>
{% endif %}

<!-- Accreditations Section -->
{% if accreditations %}
<section class="section accreditations-showcase" id="accreditations">
    <div class="section-header">
        <div class="section-tag animate-on-scroll">Trusted & Certified</div>
        <h2 class="section-title animate-on-scroll">OUR <span class="text-gradient">ACCREDITATIONS</span></h2>
        <p class="section-subtitle animate-on-scroll">Recognized by leading football and sports organizations worldwide</p>
    </div>

    <div class="accreditations-showcase-grid container">
        {% for accreditation in accreditations %}
        <div class="accreditation-showcase-card animate-scale {% if forloop.counter == 2 %}delay-100{% elif forloop.counter == 3 %}delay-200{% elif forloop.counter == 4 %}delay-300{% elif forloop.counter == 5 %}delay-400{% elif forloop.counter == 6 %}delay-500{% endif %}">
            <div class="accreditation-showcase-glow"></div>
            <div class="accreditation-showcase-logo">
                {% if accreditation.logo %}
                <img src="{{ accreditation.logo.url }}" alt="{{ accreditation.name }}">
                {% else %}
                <div class="accreditation-placeholder-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                </div>
                {% endif %}
            </div>
            <div class="accreditation-showcase-content">
                <h4 class="accreditation-showcase-name">{{ accreditation.name }}</h4>
                <p class="accreditation-showcase-issuer">{{ accreditation.issuing_body }}</p>
                {% if accreditation.rating %}
                <div class="accreditation-rating">
                    <div class="accreditation-stars">
                        {% for i in "12345" %}
                        <svg viewBox="0 0 24 24" class="star {% if forloop.counter <= accreditation.rating %}filled{% endif %}">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                        {% endfor %}
                    </div>
                    {% if accreditation.rating_label %}
                    <span class="accreditation-rating-label">{{ accreditation.rating_label }}</span>
                    {% endif %}
                </div>
                {% endif %}
            </div>
            <div class="accreditation-showcase-badge">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
                Verified
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="text-center mt-12 animate-on-scroll">
        <a href="{% url 'accreditations:list' %}" class="btn btn-outline">
            View All Accreditations
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
        </a>
    </div>
</section>
{% endif %}

<!-- Testimonials Section -->
{% if testimonials %}
<section class="section testimonials-section" id="testimonials">
    <div class="section-header">
        <div class="section-tag animate-on-scroll">Testimonials</div>
        <h2 class="section-title animate-on-scroll">WHAT PARENTS <span class="text-gradient">SAY</span></h2>
    </div>

    <div class="testimonials-wrapper container">
        {% with testimonial=testimonials.first %}
        <div class="testimonial-card animate-scale">
            <div class="testimonial-quote">"</div>
            <p class="testimonial-text">
                {{ testimonial.content }}
            </p>
            <div class="testimonial-author">
                <div class="testimonial-avatar">
                    {% if testimonial.photo %}
                    <img src="{{ testimonial.photo.url }}" alt="{{ testimonial.name }}">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&q=80" alt="{{ testimonial.name }}">
                    {% endif %}
                </div>
                <div class="testimonial-info">
                    <h4>{{ testimonial.name }}</h4>
                    <p>{{ testimonial.role }}</p>
                </div>
                {% if testimonial.rating %}
                <div class="testimonial-rating">
                    {% for i in "12345" %}
                    {% if forloop.counter <= testimonial.rating %}
                    <svg viewBox="0 0 24 24" fill="var(--primary)"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                    {% endif %}
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
        {% endwith %}
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="section cta-section" id="contact">
    <div class="cta-box animate-scale">
        <div class="cta-bg-icon">&#9917;</div>
        <h2 class="cta-title">{{ homepage_content.cta_title|default:"READY TO BEGIN?" }}</h2>
        <p class="cta-text">
            {{ homepage_content.cta_text|default:"Book a free trial session today and experience world-class football training firsthand. No commitment required!" }}
        </p>
        <div class="cta-buttons">
            <a href="{{ homepage_content.cta_button_link|default:'/contact/' }}" class="btn btn-primary">
                {{ homepage_content.cta_button_text|default:"Book Free Trial" }}
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </a>
            <a href="tel:{{ site_settings.phone|default:'+919876543210' }}" class="btn btn-outline">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                </svg>
                {{ site_settings.phone|default:"+91 98765 43210" }}
            </a>
        </div>
    </div>
</section>
{% endblock %}
